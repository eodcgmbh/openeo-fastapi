<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Add your own auth - OpenEO FastApi</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Add your own auth";
        var mkdocs_page_input_path = "guide/auth.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../.." class="icon icon-home"> OpenEO FastApi
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../setup/">Getting Started</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">User Guide</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="../registers/">Manipulating endpoints</a>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">Add your own auth</a>
    <ul class="current">
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../orms/">Extend the object relational Models</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Reference</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" >openeo_fastapi.api</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../package/api/app/">openeo_fastapi.api.app</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/api/models/">openeo_fastapi.api.models</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/api/types/">openeo_fastapi.api.types</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" >openeo_fastapi.client</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/auth/">openeo_fastapi.client.auth</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/collections/">openeo_fastapi.client.collections</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/core/">openeo_fastapi.client.core</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/files/">openeo_fastapi.client.files</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/jobs/">openeo_fastapi.client.jobs</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/processes/">openeo_fastapi.client.processes</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/register/">openeo_fastapi.client.register</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../package/client/settings/">openeo_fastapi.client.settings</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" >openeo_fastapi.client.psql</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../../package/client/psql/engine/">openeo_fastapi.client.psql.engine</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../package/client/psql/models/">openeo_fastapi.client.psql.models</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../../package/client/psql/settings/">openeo_fastapi.client.psql.settings</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../package/cli/">openeo_fastapi.cli</a>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../..">OpenEO FastApi</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../.." class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">User Guide</li>
      <li class="breadcrumb-item active">Add your own auth</li>
    <li class="wy-breadcrumbs-aside">
          <a href="https://github.com/eodcgmbh/openeo-fastapi/edit/master/docs/guide/auth.md" class="icon icon-github"> Edit on GitHub</a>
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h2 id="overwriting-the-authentication">Overwriting the authentication.</h2>
<p>The authentication function for this repo has been set using the predefined validator function in the Authenticator class. The following example will demonstrate how to provide your own auth function for a given endpoint.</p>
<h2 id="how-to-overwrite-the-auth">How to overwrite the auth.</h2>
<p>You can either inherit the authenticator class and overwrite the validate function, or provide an entirely new function. In either case, it's worth noting that the return value for any provided authentication function currently needs to be of type User. If you want to additionally change the return type you may have to overwrite the endpoint entirely.</p>
<pre><code>client = OpenEOCore(
    ...
)

api = OpenEOApi(client=client, app=FastAPI())

def cool_new_auth():
    return User(user_id=specific_uuid, oidc_sub="the-only-user")

core_api.override_authentication(cool_new_auth)
</code></pre>
<p>Now any endpoints that originally used the Authenticator.validate function, will now use cool_new_auth instead.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="../registers/" class="btn btn-neutral float-left" title="Manipulating endpoints"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../orms/" class="btn btn-neutral float-right" title="Extend the object relational Models">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
        <span>
          <a href="https://github.com/eodcgmbh/openeo-fastapi" class="fa fa-github" style="color: #fcfcfc"> GitHub</a>
        </span>
    
    
      <span><a href="../registers/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../orms/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
